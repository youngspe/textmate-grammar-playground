<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>title</title>
    <script src="/main.js"></script>
</head>
<style>
    :root {
        color-scheme: light dark;

        --scheme-tint-color: white;
        --base-accent-color: rgb(38, 139, 210);
        --accent-color: color-mix(in oklab, var(--base-accent-color) 50%, var(--scheme-tint-color));
        accent-color: var(--accent-color);
    }

    @media (prefers-color-scheme: dark) {
        :root {
            --scheme-tint-color: black;
        }
    }

    *,
    ::before,
    ::after {
        box-sizing: border-box;
    }

    :root,
    body {
        width: 100%;
        height: 100vh;
        margin: 0;
    }

    .outer-flex {
        display: flex;
        flex-flow: column;
    }

    .main-flex {
        height: 0;
        flex: 1.0;
        margin: 0;
        display: flex;
        flex-flow: column wrap;
        place-content: stretch;
    }

    .main-flex>* {
        margin: 0;
    }

    .main-flex>details {
        position: relative;
        border: thin solid currentColor;
        height: max-content;
    }

    .main-flex>details[open] {
        flex: 1.0 1.0 min(60em, 33vw);
        height: 60em;
    }

    .main-flex>details>summary {
        display: list-item;
        height: 1.5rem;
        text-align: center;
        padding: 0 1ch;
        margin: 0;
        background: var(--accent-color);
    }

    .main-flex>details>div {
        position: absolute;
        inset: 0;
        top: 1.5rem;
    }

    .input {
        overflow: auto;
        white-space: preserve nowrap;
        font-family: monospace;
        padding: 1em 1ch;
    }

    #output {
        grid-row: 1 / 3;
        grid-column: 1;
        display: flex;
        flex-flow: column;
        flex: 1.0;
    }

    #output>* {
        padding: 1em 1ch;
        font-family: monospace;
    }

    #output>pre {
        margin: 0;
        overflow: auto;
        flex: 1.0;
    }

    #output>pre>div {
        height: 1em;
    }

    #output>.info {
        border: thin solid currentcolor;
        overflow-x: auto;
    }

    .token {
        transition: all 0.25s ease-out;
        border-radius: 0.25em;
        border: 1px solid transparent;
        margin: -1px;
        cursor: pointer;
    }

    .token:hover,
    .token:focus {
        box-shadow: 0em 0.2em 0.6em -0.1em #000000;
        border-color: currentColor;
    }

    .toolbar {
        display: flex;
        flex-flow: row wrap;
        justify-content: space-evenly;
        gap: 1ch;
        row-gap: 0.25em;
        width: fit-content;
        margin-inline: auto;
    }

    .toolbar>label {
        flex: 0.75 1.0 fit-content;
        min-width: fit-content;
        display: flex;
        flex-flow: row wrap;
        justify-content: space-around;
        align-items: baseline;
        gap: 1ch;
    }

    .toolbar>label>:last-child {
        flex: 0.75 1.0 0;
    }

    .toolbar>label>span:first-of-type::after {
        content: ':';
    }

    .options {
        width: fit-content;
        margin-inline: auto;
    }

    @media (min-width: 72ch) {
        .options>.toolbar {
            display: inline-flex;
        }

        .options>summary {
            display: inline list-item;
            cursor: pointer;
        }
    }
</style>

<body onload="_initScript()" class="outer-flex" spellcheck="false">
    <header>
        <details class="options">
            <summary>Options</summary>
            <fieldset class="toolbar">
                <label><span>Language preset</span> <select id="select-lang"></select></label>
                <label><span>Theme preset</span> <select id="select-theme"></select></label>
                <label>
                    <span>Indentation size</span>

                    <select id="select-tab">
                        <optgroup label="Spaces">
                            <option>2</option>
                            <option>4</option>
                            <option>8</option>
                        </optgroup>
                        <option>tab</option>
                    </select>
                </label>
            </fieldset>
        </details>
    </header>
    <main class="main-flex">
        <details open>
            <summary>TmLanguage</summary>
            <div id="grammar-in" class="input" contenteditable="true"></div>
        </details>
        <details open>
            <summary>TmTheme</summary>
            <div id="theme-in" class="input" contenteditable="true"></div>
        </details>
        <details open>
            <summary>Example code</summary>
            <div id="code-in" class="input" contenteditable="true"></div>
        </details>
        <details open>
            <summary>Rendered</summary>
            <div id="output"></div>
        </details>
    </main>
</body>

</html>